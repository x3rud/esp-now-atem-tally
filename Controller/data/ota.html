<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>OTA Update</title>
  <style>
    body{font-family:Arial,sans-serif;background:#0f172a;color:#e2e8f0;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;}
    .card{background:#111827;padding:1.5rem;border-radius:12px;width:90%;max-width:480px;box-shadow:0 20px 50px rgba(0,0,0,0.35);}
    h1{margin:0 0 1rem 0;font-size:1.4rem;}
    label{display:block;margin:1rem 0;padding:0.8rem;border:1px dashed #334155;border-radius:10px;cursor:pointer;text-align:center;}
    input[type=file]{display:none;}
    button{width:100%;padding:0.9rem;border:none;border-radius:10px;background:#22c55e;color:#0b1727;font-weight:700;cursor:pointer;font-size:1rem;}
    button:disabled{background:#334155;color:#94a3b8;}
    .status{margin-top:0.8rem;font-size:0.9rem;min-height:1.2rem;}
  </style>
</head>
<body>
  <div class='card'>
    <h1>OTA Firmware Update</h1>
    <form method='POST' action='/update' enctype='multipart/form-data'>
      <label id='label'><span id='labelText'>Choose firmware (.bin)</span><input type='file' name='firmware' id='file'></label>
      <button id='btn' type='submit' disabled>Upload & Restart</button>
      <div class='status' id='status'></div>
    </form>
  </div>
  <script>
    const file=document.getElementById('file');
    const btn=document.getElementById('btn');
    const text=document.getElementById('labelText');
    const status=document.getElementById('status');
    file.addEventListener('change',()=>{if(file.files.length){text.textContent=file.files[0].name;btn.disabled=false;status.textContent='';}});
    document.querySelector('form').addEventListener('submit',(e)=>{if(!file.files.length){e.preventDefault();return;}status.textContent='Uploading...';btn.disabled=true;});
  </script>
</body>
</html>
